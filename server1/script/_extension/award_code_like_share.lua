
e_code_likeshare = {
	code = {
		["2352536644477"] = 6,
		["3453453453442"] = 6,
		["3453453445312"] = 6,
		["3434531533120"] = 6,
		["8643453244524"] = 6,
		["8875741414424"] = 6,
		["4534404244224"] = 6,
		["7877252447247"] = 6,
		["7633452442042"] = 6,
		["2727455241424"] = 6,
		["2452452044242"] = 6,
		["7557575754257"] = 6,
		["5757275742727"] = 6,
		["8764272724727"] = 6,
		["2776757448675"] = 6,
                                            ["3432447868444"] = 6,
		["3453453445324"] = 6,
		["3453453445324"] = 6,
		["3434535314661"] = 6,
		["8643452524244"] = 6,
		["8875744124774"] = 6,
		["4440424324424"] = 6,
		["7877252427272"] = 6,
		["7633452442024"] = 6,
		["2727669746424"] = 6,
		["2452767824474"] = 6,
		["7527575754752"] = 6,
		["5757275272477"] = 6,
		["8884272727427"] = 6,
		["2776757434675"] = 6,
                                            ["3432478684445"] = 6,
		["3453453483424"] = 6,
		["3453453454324"] = 6,
		["3434575514201"] = 6,
		["8643452452442"] = 6,
		["8875741424244"] = 6,
		["4440424244424"] = 6,
		["7877252447272"] = 6,
		["7633452442424"] = 6,
		["2727669714424"] = 6,
		["8324520442424"] = 6,
		["7527777475257"] = 6,
		["5757275482727"] = 6,
		["8767672457427"] = 6,
		["2776376437675"] = 6,
                                            ["3432478684234"] = 6,
		["3453453454324"] = 6,
		["3453453454424"] = 6,
		["3434544441201"] = 6,
		["8643452445728"] = 6,
		["8875741414242"] = 6,
		["4534480444424"] = 6,
		["7877252472472"] = 6,
		["7633452420444"] = 6,
		["2727845214424"] = 6,
		["2452767824424"] = 6,
		["7527757543547"] = 6,
		["5775272272427"] = 6,
		["8767672574427"] = 6,
		["2776763748675"] = 6,
                                            ["2776763784675"] = 6,
                                            ["3432478684434"] = 6,
		["3453453454324"] = 6,
		["3453453454824"] = 6,
		["3434535774701"] = 6,
		["8643452655244"] = 6,
		["8875741474724"] = 6,
		["4534440442424"] = 6,
		["7877252447272"] = 6,
		["7633452442244"] = 6,
		["2727669746214"] = 6,
		["2452760424424"] = 6,
		["7527879745257"] = 6,
		["5980072724727"] = 6,
		["8767677279847"] = 6,
		["2776757484675"] = 6,
	                      ["3432478645874"] = 6,
		["3453453445824"] = 6,
		["3453453445424"] = 6,
		["3434535315651"] = 6,
		["8677724524244"] = 6,
		["8875741283824"] = 6,
		["4534440344424"] = 6,
		["7877252437282"] = 6,
		["7633452423024"] = 6,
		["2727645213424"] = 6,
		["2452767432424"] = 6,
		["7527575534657"] = 6,
		["5757452723727"] = 6,
		["8453272732727"] = 6,
		["2776464634675"] = 6,
                                            ["3432478336264"] = 6,
		["3353563663366"] = 6,
		["3453443564324"] = 6,
		["3463465312301"] = 6,
		["8643452456634"] = 6,
		["8875646343245"] = 6,
		["4534440442342"] = 6,
		["7877252473272"] = 6,
		["7633452432424"] = 6,
		["2727669213424"] = 6,
		["2452767849424"] = 6,
		["7527575753757"] = 6,
		["5757278372727"] = 6,
		["8767672357427"] = 6,
		["2776758378675"] = 6,
                                            ["3432478683434"] = 6,
		["3453453453324"] = 6,
		["3453453435324"] = 6,
		["3434538888301"] = 6,
		["8643452424388"] = 6,
		["8875741413284"] = 6,
		["4534440424324"] = 6,
		["7877252473872"] = 6,
		["7633452484234"] = 6,
		["2727845213424"] = 6,
		["2458520432424"] = 6,
		["7527578882357"] = 6,
		["5757282723727"] = 6,
		["8768872732727"] = 6,
		["2776757436735"] = 6,
                                            ["3432478883234"] = 6,
		["3453453453324"] = 6,
		["3453453458324"] = 6,
		["3434535383881"] = 6,
		["8643458824234"] = 6,
		["8875741413724"] = 6,
		["4534440423424"] = 6,
		["7877252473272"] = 6,
		["7633452432424"] = 6,
		["2727665231424"] = 6,
		["2452520424234"] = 6,
		["7527575757837"] = 6,
		["5757275272327"] = 6,
		["8767672723727"] = 6,
		["2776757437735"] = 6,
                                            ["3432478683434"] = 6,
		["3453453453234"] = 6,
		["3453455323424"] = 6,
		["3434535813201"] = 6,
		["8643992424234"] = 6,
		["8875741883424"] = 6,
		["4534440444234"] = 6,
		["7877252883272"] = 6,
		["7633458432424"] = 6,
		["2727665231424"] = 6,
		["2484520424324"] = 6,
		["7527575783257"] = 6,
		["5757275232727"] = 6,
		["8767672527327"] = 6,
		["2776757237386"] = 6,
},

	award = {
		{name = "Vâ L©m MËt TÞch", nums = 1, item = {6,1,26,1,0,0}},
                                            {name = "TÈy Tñy Kinh", nums = 1, item = {6,1,22,1,0,0}},
		{name = "Tiªn Th¶o Lé §Æc BiÖt", nums = 3, item = {6,1,1765,1,0,0}},
                                            {name = "Phi Phong", nums = 1, item = {6,1,15,1,0,0}},
                                            {name = "Tiªn Th¶o Lé 1h", nums = 10, item = {6,1,71,1,0,0}},
		{name = "Thæ ®Þa phï 1000 lÇn", nums = 1, item = {6,1,1083,1,0,0}},
	},
	
	key_equipmentGold = {
		[1] = {184, 179,178,177,183,180,182,181,185}, -- bé kim phong
	}
}

function e_code_likeshare:main()
	local say_string = "PhÇn th­ëng cho ®ît sù kiÖn nµy bao gåm <enter>"
	
	for index = 1, getn(e_code_likeshare.award) do
		say_string = say_string..e_code_likeshare.award[index].nums.." "..e_code_likeshare.award[index].name.." <enter>"
	end
	
	return Say(say_string, 2, "NhËp m· dù th­ëng/#e_code_likeshare.input()", "kÕt thóc ®èi tho¹i/end")
end

function e_code_likeshare:input()
	return AskClientForString("e_code_likeshare_check", "", 1, 20, "<#> Xin nhËp M· th­ëng!")
end

function e_code_likeshare_check(_in_code)
	if CountFreeRoomByWH(3,10) < 1 then
		return Talk(1, "", "C¸c h¹ vui lßng ®Ó trèng Ýt nhÊt 30 « trèng trong hµnh trang míi cã thÓ nhËn phÇn th­ëng nµy!")
	end

	if(GetTask(5899) ~= 0) or not(e_code_likeshare.code[_in_code]) then
		return Talk(1, "", "M· th­ëng ®· ®­îc sö dông hoÆc kh«ng ®óng")
	end
	
	return e_code_likeshare:getAward()
end

function e_code_likeshare:getAward()
	SetTask(5899, 1)
	
	local item_index = 0
	
	for index = 1, getn(self.award) do
		for index_add = 1, self.award[index].nums do
			if self.award[index].item then
				item_index = AddItem(unpack(self.award[index].item))
				
				SetItemBindState(item_index, -2)
			end
			
			if(self.award[index].key_itemGold) then
				for index_add = 1, getn(self.key_equipmentGold[self.award[index].key_itemGold]) do
					item_index = AddGoldItem(0, (self.key_equipmentGold[self.award[index].key_itemGold][index_add]))
					
					SetItemBindState(item_index, -2)
				end	
			end
		end	
	end
	
	Msg2Player("NhËn th­ëng thµnh c«ng, xin kiÓm tra l¹i hµnh trang!")
end
















